### New Endpoints: None
-----------------------
### Deleted Endpoints: None
---------------------------
### Modified Endpoints: 5
-------------------------
POST /consents
- Modified header param: x-fapi-interaction-id
  - Required changed from false to true
- Request body changed
  - Content changed
    - Modified media type: application/jwt
      - Schema changed
        - Properties changed
          - Modified property: data
            - Properties changed
              - Modified property: creditor
                - Properties changed
                  - Modified property: name
                    - Pattern changed from '^([A-Za-zÀ-ÖØ-öø-ÿ' -]+)$' to '^([A-Za-zÀ-ÖØ-öø-ÿ,.@:&*+_<>()!?/\\$%\d' -]+)$'
- Responses changed
  - Modified response: 201
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: data
              - Properties changed
                - Modified property: creditor
                  - Properties changed
                    - Modified property: name
                      - Pattern changed from '^([A-Za-zÀ-ÖØ-öø-ÿ' -]+)$' to '^([A-Za-zÀ-ÖØ-öø-ÿ,.@:&*+_<>()!?/\\$%\d' -]+)$'
                - Modified property: debtorAccount
                  - Description changed from 'Objeto que contém a identificação da conta de origem do pagador.  
As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente. Do contrário, será coletada na detentora e trazida para a iniciadora como resposta à criação do pagamento.
' to 'Objeto que contém a identificação da conta de origem do pagador.
As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente.
No caso em que o cliente não preenche os dados na iniciadora, a detentora deverá persistir as informações da conta selecionada seguindo as condições abaixo.
[Restrição] 
- AUTHORISED e CONSUMED: Para esses dois status, o preenchimento do campo deverá ser obrigatório.
- REJECTED: Para este status o preenchimento é condicional, dado que há cenários em que a detentora também não terá conhecimento da conta origem, pois a mesma não foi selecionada pelo usuário. Nos casos em que houver seleção, a conta deve ser preenchida obrigatoriamente.
'
  - Modified response: 400
    - Description changed from 'A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.' to 'Seguir as orientações presentes na descrição da API, subitem 1.2.3'
    - Headers changed
      - Deleted header: x-fapi-interaction-id
  - Modified response: 422
    - Description changed from 'A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.' to 'Seguir as orientações presentes na descrição da API, item 1.3 e seus subitens.'
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: errors
              - Items changed
                - Properties changed
                  - Modified property: code
                    - New enum values: [DETALHE_PAGAMENTO_INVALIDO]
                    - Deleted enum values: [DETALHE_PGTO_INVALIDO]
GET /consents/{consentId}
- Modified header param: x-fapi-interaction-id
  - Required changed from false to true
- Responses changed
  - Modified response: 200
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: data
              - Properties changed
                - Modified property: creditor
                  - Properties changed
                    - Modified property: name
                      - Pattern changed from '^([A-Za-zÀ-ÖØ-öø-ÿ' -]+)$' to '^([A-Za-zÀ-ÖØ-öø-ÿ,.@:&*+_<>()!?/\\$%\d' -]+)$'
                - Modified property: debtorAccount
                  - Description changed from 'Objeto que contém a identificação da conta de origem do pagador.  
As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente. Do contrário, será coletada na detentora e trazida para a iniciadora como resposta à criação do pagamento.
' to 'Objeto que contém a identificação da conta de origem do pagador.
As informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente.
No caso em que o cliente não preenche os dados na iniciadora, a detentora deverá persistir as informações da conta selecionada seguindo as condições abaixo.
[Restrição] 
- AUTHORISED e CONSUMED: Para esses dois status, o preenchimento do campo deverá ser obrigatório.
- REJECTED: Para este status o preenchimento é condicional, dado que há cenários em que a detentora também não terá conhecimento da conta origem, pois a mesma não foi selecionada pelo usuário. Nos casos em que houver seleção, a conta deve ser preenchida obrigatoriamente.
'
  - Modified response: 400
    - Headers changed
      - Deleted header: x-fapi-interaction-id
POST /pix/payments
- Modified header param: x-fapi-interaction-id
  - Required changed from false to true
- Request body changed
  - Content changed
    - Modified media type: application/jwt
      - Schema changed
        - Properties changed
          - Modified property: data
            - Properties changed
              - New property: authorizationFlow
- Responses changed
  - Modified response: 201
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: data
              - Properties changed
                - New property: authorizationFlow
                - Modified property: rejectionReason
                  - Properties changed
                    - Modified property: code
                      - Description changed from 'Define o código da razão pela qual o pagamento foi rejeitado
SALDO_INSUFICIENTE
VALOR_ACIMA_LIMITE
VALOR_INVALIDO
COBRANCA_INVALIDA
NAO_INFORMADO
PAGAMENTO_DIVERGENTE_CONSENTIMENTO
DETALHE_PAGAMENTO_INVALIDO
PAGAMENTO_RECUSADO_DETENTORA
PAGAMENTO_RECUSADO_SPI
FALHA_INFRAESTRUTURA
' to 'Define o código da razão pela qual o pagamento foi rejeitado
- SALDO_INSUFICIENTE - A conta selecionada não possui saldo suficiente para realizar o pagamento.
- VALOR_ACIMA_LIMITE - O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente.
- VALOR_INVALIDO - O valor enviado não é válido para o QR Code informado.
- COBRANCA_INVALIDA - Validação de expiração, validação de vencimento ou Status Válido.
- NAO_INFORMADO - Não reportado/identificado pela instituição detentora de conta.
- PAGAMENTO_DIVERGENTE_CONSENTIMENTO - Dados do pagamento divergentes dos dados do consentimento.
- DETALHE_PAGAMENTO_INVALIDO - Parâmetro [nome_campo] não obedecer às regras de negócio.
- PAGAMENTO_RECUSADO_DETENTORA - [Descrição do motivo de recusa].
- PAGAMENTO_RECUSADO_SPI - [Código de erro conforme tabela de domínios reason PACS.002].
- FALHA_INFRAESTRUTURA - [Descrição de qual falha na infraestrutura inviabilizou o processamento].
'
  - Modified response: 400
    - Description changed from 'A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.' to 'Seguir as orientações presentes na descrição da API, subitem 2.1.3.'
  - Modified response: 422
    - Description changed from 'A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.' to 'Seguir as orientações presentes na descrição da API, itens 2.2 e 2.3 e seus subitens.'
    - Headers changed
      - Deleted header: x-fapi-interaction-id
GET /pix/payments/{paymentId}
- Modified header param: x-fapi-interaction-id
  - Required changed from false to true
- Responses changed
  - Modified response: 200
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: data
              - Properties changed
                - New property: authorizationFlow
                - Modified property: rejectionReason
                  - Properties changed
                    - Modified property: code
                      - Description changed from 'Define o código da razão pela qual o pagamento foi rejeitado
SALDO_INSUFICIENTE
VALOR_ACIMA_LIMITE
VALOR_INVALIDO
COBRANCA_INVALIDA
NAO_INFORMADO
PAGAMENTO_DIVERGENTE_CONSENTIMENTO
DETALHE_PAGAMENTO_INVALIDO
PAGAMENTO_RECUSADO_DETENTORA
PAGAMENTO_RECUSADO_SPI
FALHA_INFRAESTRUTURA
' to 'Define o código da razão pela qual o pagamento foi rejeitado
- SALDO_INSUFICIENTE - A conta selecionada não possui saldo suficiente para realizar o pagamento.
- VALOR_ACIMA_LIMITE - O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente.
- VALOR_INVALIDO - O valor enviado não é válido para o QR Code informado.
- COBRANCA_INVALIDA - Validação de expiração, validação de vencimento ou Status Válido.
- NAO_INFORMADO - Não reportado/identificado pela instituição detentora de conta.
- PAGAMENTO_DIVERGENTE_CONSENTIMENTO - Dados do pagamento divergentes dos dados do consentimento.
- DETALHE_PAGAMENTO_INVALIDO - Parâmetro [nome_campo] não obedecer às regras de negócio.
- PAGAMENTO_RECUSADO_DETENTORA - [Descrição do motivo de recusa].
- PAGAMENTO_RECUSADO_SPI - [Código de erro conforme tabela de domínios reason PACS.002].
- FALHA_INFRAESTRUTURA - [Descrição de qual falha na infraestrutura inviabilizou o processamento].
'
  - Modified response: 400
    - Headers changed
      - Deleted header: x-fapi-interaction-id
- Security changed
  - Deleted security requirements: OAuth2AuthorizationCode
PATCH /pix/payments/{paymentId}
- Description changed from '
Esse endpoint deve ser usado para cancelar, a pedido do cliente pagador, as transações que estejam em uma das seguintes situações: Agendada com sucesso (SCHD), retida para análise (PDNG) ou aguardando autorização de múltiplas alçadas (PATC).  
- Caso a requisição seja bem sucedida, a transação vai para a situação CANC.
- Caso o status do pagamento seja diferente de SCHD/PDNG/PATC ou alguma outra regra de negócio impeça o cancelamento, a requisição PATCH retorna HTTP Status 422 com o code PAGAMENTO_NAO_PERMITE_CANCELAMENTO.
- Caso receba um 422, a iniciadora deve fazer uma requisição GET no pagamento para verificar a situação atual dele, bem como detalhes associados.  
O cancelamento de pagamento deve ser enviado até 23:59 (Horário de Brasília) do dia anterior à data de efetivação do pagamento.  
' to '
Esse endpoint deve ser usado para cancelar, a pedido do cliente pagador, as transações que estejam em uma das seguintes situações: Agendada com sucesso (SCHD), retida para análise (PDNG) ou aguardando autorização de múltiplas alçadas (PATC).  
- Caso a requisição seja bem sucedida, a transação vai para a situação CANC.
- Caso o status do pagamento seja diferente de SCHD/PDNG/PATC ou alguma outra regra de negócio impeça o cancelamento, a requisição PATCH retorna HTTP Status 422 com o code PAGAMENTO_NAO_PERMITE_CANCELAMENTO.
- Caso receba um 422, a iniciadora deve fazer uma requisição GET no pagamento para verificar a situação atual dele, bem como detalhes associados.  
O cancelamento de pagamento agendado (SCHD) pode ser enviado até 23:59 (Horário de Brasília) do dia anterior à data de efetivação do pagamento.  
'
- Modified header param: x-fapi-interaction-id
  - Required changed from false to true
- Request body changed
  - Content changed
    - Modified media type: application/jwt
      - Schema changed
        - Properties changed
          - Modified property: data
            - Properties changed
              - New property: authorizationFlow
- Responses changed
  - Modified response: 200
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: data
              - Properties changed
                - New property: authorizationFlow
                - Modified property: rejectionReason
                  - Properties changed
                    - Modified property: code
                      - Description changed from 'Define o código da razão pela qual o pagamento foi rejeitado
SALDO_INSUFICIENTE
VALOR_ACIMA_LIMITE
VALOR_INVALIDO
COBRANCA_INVALIDA
NAO_INFORMADO
PAGAMENTO_DIVERGENTE_CONSENTIMENTO
DETALHE_PAGAMENTO_INVALIDO
PAGAMENTO_RECUSADO_DETENTORA
PAGAMENTO_RECUSADO_SPI
FALHA_INFRAESTRUTURA
' to 'Define o código da razão pela qual o pagamento foi rejeitado
- SALDO_INSUFICIENTE - A conta selecionada não possui saldo suficiente para realizar o pagamento.
- VALOR_ACIMA_LIMITE - O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente.
- VALOR_INVALIDO - O valor enviado não é válido para o QR Code informado.
- COBRANCA_INVALIDA - Validação de expiração, validação de vencimento ou Status Válido.
- NAO_INFORMADO - Não reportado/identificado pela instituição detentora de conta.
- PAGAMENTO_DIVERGENTE_CONSENTIMENTO - Dados do pagamento divergentes dos dados do consentimento.
- DETALHE_PAGAMENTO_INVALIDO - Parâmetro [nome_campo] não obedecer às regras de negócio.
- PAGAMENTO_RECUSADO_DETENTORA - [Descrição do motivo de recusa].
- PAGAMENTO_RECUSADO_SPI - [Código de erro conforme tabela de domínios reason PACS.002].
- FALHA_INFRAESTRUTURA - [Descrição de qual falha na infraestrutura inviabilizou o processamento].
'
  - Modified response: 400
    - Headers changed
      - Deleted header: x-fapi-interaction-id
  - Modified response: 422
    - Description changed from 'A solicitação foi bem formada, mas não pôde ser processada devido à lógica de negócios específica da solicitação.' to 'A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.'
    - Content changed
      - Modified media type: application/jwt
        - Schema changed
          - Properties changed
            - Modified property: errors
              - Items changed
                - Properties changed
                  - Modified property: code
                    - Description changed from 'Códigos de erros previstos na criação da iniciação de pagamento:
• SALDO_INSUFICIENTE: Esta conta não possui saldo suficiente para realizar o pagamento.
• BENEFICIARIO_INCOMPATIVEL: O beneficiário informado no consentimento não é o mesmo do esperado pelo DICT.
• VALOR_INCOMPATIVEL: O valor informado no consentimento não é o mesmo valor do informado no payload de pagamento.
• VALOR_ACIMA_LIMITE: O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente.
• VALOR_INVALIDO: O valor enviado não é válido para o QR Code informado.
• COBRANCA_INVALIDA: Validação de expiração, validação de vencimento, Status Válido.
• CONSENTIMENTO_INVALIDO: Consentimento inválido (status não é "authorised" ou está expirado).
• JANELA_OPER_INVALIDA: Requisição está fora da janela de funcionamento.
• PARAMETRO_NAO_INFORMADO: Parâmetro não informado.  
• PARAMETRO_INVALIDO: Parâmetro inválido.
• NAO_INFORMADO: Não informada pela detentora de conta.
• PAGAMENTO_DIVERGENTE_CONSENTIMENTO: Dados do pagamento divergentes dos dados do consentimento.
• DETALHE_PAGAMENTO_INVALIDO: Detalhe do pagamento inválido.
• PAGAMENTO_RECUSADO_DETENTORA: Pagamento recusado pela detentora de conta.
• PAGAMENTO_RECUSADO_SPI: Pagamento recusado no Sistema de Pagamentos Instantâneos (SPI).
• ERRO_IDEMPOTENCIA: Erro idempotência.
' to 'Códigos de erros previstos na criação da iniciação de pagamento:
• PAGAMENTO_NAO_PERMITE_CANCELAMENTO: Pagamento não permite cancelamento
'
                    - New enum values: [PAGAMENTO_NAO_PERMITE_CANCELAMENTO]
                    - Deleted enum values: [SALDO_INSUFICIENTE BENEFICIARIO_INCOMPATIVEL VALOR_INCOMPATIVEL VALOR_ACIMA_LIMITE VALOR_INVALIDO COBRANCA_INVALIDA CONSENTIMENTO_INVALIDO JANELA_OPER_INVALIDA PARAMETRO_NAO_INFORMADO PARAMETRO_INVALIDO NAO_INFORMADO PAGAMENTO_DIVERGENTE_CONSENTIMENTO DETALHE_PAGAMENTO_INVALIDO PAGAMENTO_RECUSADO_DETENTORA PAGAMENTO_RECUSADO_SPI ERRO_IDEMPOTENCIA]
                    - Example changed from 'SALDO_INSUFICIENTE' to 'PAGAMENTO_NAO_PERMITE_CANCELAMENTO'
                  - Modified property: detail
                    - Description changed from 'Descrição específica do erro de acordo com o código reportado:
• SALDO_INSUFICIENTE: A conta selecionada não possui saldo suficiente para realizar o pagamento.
• BENEFICIARIO_INCOMPATIVEL: O beneficiário informado no consentimento não é o mesmo do esperado pelo DICT.
• VALOR_INCOMPATIVEL: O valor informado no consentimento não é o mesmo valor do informado no payload de pagamento.
• VALOR_ACIMA_LIMITE: O valor (ou quantidade de transações) ultrapassa a faixa de limite parametrizada na detentora para permitir a realização de transações pelo cliente.
• VALOR_INVALIDO: O valor enviado não é válido para o QR Code informado.
• COBRANCA_INVALIDA: Validação de expiração, validação de vencimento ou Status Válido.
• CONSENTIMENTO_INVALIDO: Consentimento inválido (status diferente de "AUTHORISED" ou está expirado).
• JANELA_OPER_INVALIDA: Requisição está fora da janela de funcionamento.
• PARAMETRO_NAO_INFORMADO: endToEndId
• PARAMETRO_INVALIDO: endToEndId
• NAO_INFORMADO: Não reportado/identificado pela instituição detentora de conta.
• PAGAMENTO_DIVERGENTE_CONSENTIMENTO: Dados do pagamento divergentes dos dados do consentimento.
• DETALHE_PAGAMENTO_INVALIDO: Parâmetro [nome_campo] não obedece às regras de negócio.
• PAGAMENTO_RECUSADO_DETENTORA: [descrição do motivo de recusa].
• PAGAMENTO_RECUSADO_SPI: [código de erro conforme tabela de domínios reason PACS.002].
• ERRO_IDEMPOTENCIA: Conteúdo da mensagem (claim data) diverge do conteúdo associado a esta chave de idempotência (x-idempotency-key).
' to 'Descrição específica do erro de acordo com o código reportado:
• PAGAMENTO_NAO_PERMITE_CANCELAMENTO: Pagamento não permite cancelamento
'
                    - Example changed from 'A conta selecionada não possui saldo suficiente para realizar o pagamento.' to 'Pagamento não permite cancelamento.'
                  - Modified property: title
                    - Description changed from 'Título específico do erro reportado, de acordo com o código enviado:
• SALDO_INSUFICIENTE: Saldo insuficiente.
• BENEFICIARIO_INCOMPATIVEL: Beneficiário incompatível.
• VALOR_INCOMPATIVEL: Valor da transação incompatível.
• VALOR_ACIMA_LIMITE: Acima do limite estabelecido.
• VALOR_INVALIDO: Valor inválido.
• COBRANCA_INVALIDA: Cobrança inválida.
• CONSENTIMENTO_INVALIDO: Consentimento inválido.
• JANELA_OPER_INVALIDA: Janela de operação inválida.
• PARAMETRO_NAO_INFORMADO: Parâmetro obrigatório não informado.
• PARAMETRO_INVALIDO: Parâmetro com valor inválido.
• NAO_INFORMADO: Não informado.
• PAGAMENTO_DIVERGENTE_CONSENTIMENTO: Divergência entre pagamento e consentimento.
• DETALHE_PAGAMENTO_INVALIDO: Detalhe do pagamento inválido.
• PAGAMENTO_RECUSADO_DETENTORA: Pagamento recusado pela detentora de conta.
• PAGAMENTO_RECUSADO_SPI: Pagamento recusado no Sistema de Pagamentos Instantâneos (SPI).
• ERRO_IDEMPOTENCIA: Erro idempotência.
' to 'Título específico do erro reportado, de acordo com o código enviado:
• PAGAMENTO_NAO_PERMITE_CANCELAMENTO: Pagamento não permite cancelamento
'
                    - Example changed from 'Saldo insuficiente.' to 'Pagamento não permite cancelamento.'
        - Examples changed
          - Modified example: Saldo insuficiente
            - Value changed from map[errors:[map[code:SALDO_INSUFICIENTE detail:A conta selecionada não possui saldo suficiente para realizar o pagamento. title:Saldo insuficiente.]] meta:map[requestDateTime:2021-05-21T08:30:00Z]] to map[errors:[map[code:PAGAMENTO_NAO_PERMITE_CANCELAMENTO detail:Pagamento não permite cancelamento title:Pagamento não permite cancelamento]] meta:map[requestDateTime:2021-05-21T08:30:00Z]]
